<% if @state_manager.errors.any? %>
<div class="alert alert-danger alert-dismissable">
  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
  <strong><%= pluralize(@state_manager.errors.count, "error") %> prohibited
    this user from being saved:</strong>
    <ul>
      <% @state_manager.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
      <% end %>
    </ul>
</div>
<% end %>

<div class="form-group">
  <%= f.label :username, "Nama Pengguna", class: "col-md-3 control-label" %>
  <div class="col-md-6">
    <%= f.text_field :username, :class => "form-control", required: true %>
    <p class="help-block small">Mestilah rapat, tiada spasi</p>
  </div>
</div>

<div class="form-group">
  <%= f.label :email, "Alamat Emel", class: "col-md-3 control-label" %>
  <div class="col-md-6">
    <%= f.text_field :email, :class => "form-control", required: true %>
  </div>
</div>

<div class="form-group">
  <%= f.label :password, "Kata Laluan", class: "col-md-3 control-label" %>
  <div class="col-md-6">
    <%= f.password_field :password, :class => "form-control", required: true %>
  </div>
</div>

<div class="form-group">
  <%= f.label :password_confirmation, "Konformasi Kata Laluan", class: "col-md-3 control-label" %>
  <div class="col-md-6">
    <%= f.password_field :password_confirmation, :class => "form-control", required: true %>
  </div>
</div>

<div class="form-group">
  <%= f.label :state_id, "Pilih Negeri", class: "col-md-3 control-label" %>
  <div class="col-md-6">
    <%= f.collection_select :state_id, (State.order(:name) - State.available), :id, :name, {include_blank: ""}, required: true, :class => "form-control" %>
    <p class="help-block small">Jika negeri tiada dalam senarai, bermakna negeri tersebut sudah mempunya Pengurus Negeri</p>
  </div>
</div>

<%= f.hidden_field :role, value: :state_manager %>

<div class="form-group">
  <label class="col-md-2 control-label"></label>
  <div class="col-md-10">
    <%= f.button "Daftar", :class => "btn btn-primary", data: { disable_with: "<i class='fa fa-spinner fa-spin'></i> Saving..." } %>
    <%= link_to 'Batal', state_managers_path, :class => "btn btn-link" %>
  </div>
</div>
